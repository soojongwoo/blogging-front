"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./utils/supabase/middleware.ts":
/*!**************************************!*\
  !*** ./utils/supabase/middleware.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateSession: () => (/* binding */ updateSession)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(middleware)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\n\nconst updateSession = async (request)=>{\n    // This `try/catch` block is only here for the interactive tutorial.\n    // Feel free to remove once you have Supabase connected.\n    try {\n        // Create an unmodified response\n        let response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next({\n            request: {\n                headers: request.headers\n            }\n        });\n        const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://sfgrlrwzttqifpbjzwsn.supabase.co;\", process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY, {\n            cookies: {\n                getAll () {\n                    return request.cookies.getAll();\n                },\n                setAll (cookiesToSet) {\n                    cookiesToSet.forEach(({ name, value })=>request.cookies.set(name, value));\n                    response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next({\n                        request\n                    });\n                    cookiesToSet.forEach(({ name, value, options })=>response.cookies.set(name, value, options));\n                }\n            }\n        });\n        // This will refresh session if expired - required for Server Components\n        // https://supabase.com/docs/guides/auth/server-side/nextjs\n        const user = await supabase.auth.getUser();\n        // protected routes\n        if (request.nextUrl.pathname.startsWith(\"/protected\") && user.error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL(\"/sign-in\", request.url));\n        }\n        if (request.nextUrl.pathname === \"/\" && !user.error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL(\"/protected\", request.url));\n        }\n        return response;\n    } catch (e) {\n        // If you are here, a Supabase client could not be created!\n        // This is likely because you have not set up environment variables.\n        // Check out http://localhost:3000 for Next Steps.\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next({\n            request: {\n                headers: request.headers\n            }\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vdXRpbHMvc3VwYWJhc2UvbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUQ7QUFDVTtBQUV0RCxNQUFNRSxnQkFBZ0IsT0FBT0M7SUFDbEMsb0VBQW9FO0lBQ3BFLHdEQUF3RDtJQUN4RCxJQUFJO1FBQ0YsZ0NBQWdDO1FBQ2hDLElBQUlDLFdBQVdILHFEQUFZQSxDQUFDSSxJQUFJLENBQUM7WUFDL0JGLFNBQVM7Z0JBQ1BHLFNBQVNILFFBQVFHLE9BQU87WUFDMUI7UUFDRjtRQUVBLE1BQU1DLFdBQVdQLGlFQUFrQkEsQ0FDakNRLDJDQUFvQyxFQUNwQ0EsUUFBUUMsR0FBRyxDQUFDRSw2QkFBNkIsRUFDekM7WUFDRUMsU0FBUztnQkFDUEM7b0JBQ0UsT0FBT1YsUUFBUVMsT0FBTyxDQUFDQyxNQUFNO2dCQUMvQjtnQkFDQUMsUUFBT0MsWUFBWTtvQkFDakJBLGFBQWFDLE9BQU8sQ0FBQyxDQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQ25DZixRQUFRUyxPQUFPLENBQUNPLEdBQUcsQ0FBQ0YsTUFBTUM7b0JBRTVCZCxXQUFXSCxxREFBWUEsQ0FBQ0ksSUFBSSxDQUFDO3dCQUMzQkY7b0JBQ0Y7b0JBQ0FZLGFBQWFDLE9BQU8sQ0FBQyxDQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFRSxPQUFPLEVBQUUsR0FDNUNoQixTQUFTUSxPQUFPLENBQUNPLEdBQUcsQ0FBQ0YsTUFBTUMsT0FBT0U7Z0JBRXRDO1lBQ0Y7UUFDRjtRQUdGLHdFQUF3RTtRQUN4RSwyREFBMkQ7UUFDM0QsTUFBTUMsT0FBTyxNQUFNZCxTQUFTZSxJQUFJLENBQUNDLE9BQU87UUFFeEMsbUJBQW1CO1FBQ25CLElBQUlwQixRQUFRcUIsT0FBTyxDQUFDQyxRQUFRLENBQUNDLFVBQVUsQ0FBQyxpQkFBaUJMLEtBQUtNLEtBQUssRUFBRTtZQUNuRSxPQUFPMUIscURBQVlBLENBQUMyQixRQUFRLENBQUMsSUFBSUMsSUFBSSxZQUFZMUIsUUFBUTJCLEdBQUc7UUFDOUQ7UUFFQSxJQUFJM0IsUUFBUXFCLE9BQU8sQ0FBQ0MsUUFBUSxLQUFLLE9BQU8sQ0FBQ0osS0FBS00sS0FBSyxFQUFFO1lBQ25ELE9BQU8xQixxREFBWUEsQ0FBQzJCLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLGNBQWMxQixRQUFRMkIsR0FBRztRQUNoRTtRQUVBLE9BQU8xQjtJQUNULEVBQUUsT0FBTzJCLEdBQUc7UUFDViwyREFBMkQ7UUFDM0Qsb0VBQW9FO1FBQ3BFLGtEQUFrRDtRQUNsRCxPQUFPOUIscURBQVlBLENBQUNJLElBQUksQ0FBQztZQUN2QkYsU0FBUztnQkFDUEcsU0FBU0gsUUFBUUcsT0FBTztZQUMxQjtRQUNGO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvdXN1am9uZy9XZWJzdG9ybVByb2plY3RzL2Jsb2dnaW5nLWZyb250L3V0aWxzL3N1cGFiYXNlL21pZGRsZXdhcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zc3JcIjtcbmltcG9ydCB7IHR5cGUgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlU2Vzc2lvbiA9IGFzeW5jIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuICAvLyBUaGlzIGB0cnkvY2F0Y2hgIGJsb2NrIGlzIG9ubHkgaGVyZSBmb3IgdGhlIGludGVyYWN0aXZlIHR1dG9yaWFsLlxuICAvLyBGZWVsIGZyZWUgdG8gcmVtb3ZlIG9uY2UgeW91IGhhdmUgU3VwYWJhc2UgY29ubmVjdGVkLlxuICB0cnkge1xuICAgIC8vIENyZWF0ZSBhbiB1bm1vZGlmaWVkIHJlc3BvbnNlXG4gICAgbGV0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoe1xuICAgICAgcmVxdWVzdDoge1xuICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgICAge1xuICAgICAgICBjb29raWVzOiB7XG4gICAgICAgICAgZ2V0QWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuY29va2llcy5nZXRBbGwoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcbiAgICAgICAgICAgIGNvb2tpZXNUb1NldC5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlIH0pID0+XG4gICAgICAgICAgICAgIHJlcXVlc3QuY29va2llcy5zZXQobmFtZSwgdmFsdWUpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoe1xuICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb29raWVzVG9TZXQuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSwgb3B0aW9ucyB9KSA9PlxuICAgICAgICAgICAgICByZXNwb25zZS5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucyksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICk7XG5cbiAgICAvLyBUaGlzIHdpbGwgcmVmcmVzaCBzZXNzaW9uIGlmIGV4cGlyZWQgLSByZXF1aXJlZCBmb3IgU2VydmVyIENvbXBvbmVudHNcbiAgICAvLyBodHRwczovL3N1cGFiYXNlLmNvbS9kb2NzL2d1aWRlcy9hdXRoL3NlcnZlci1zaWRlL25leHRqc1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuICAgIC8vIHByb3RlY3RlZCByb3V0ZXNcbiAgICBpZiAocmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvcHJvdGVjdGVkXCIpICYmIHVzZXIuZXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9zaWduLWluXCIsIHJlcXVlc3QudXJsKSk7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3QubmV4dFVybC5wYXRobmFtZSA9PT0gXCIvXCIgJiYgIXVzZXIuZXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9wcm90ZWN0ZWRcIiwgcmVxdWVzdC51cmwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJZiB5b3UgYXJlIGhlcmUsIGEgU3VwYWJhc2UgY2xpZW50IGNvdWxkIG5vdCBiZSBjcmVhdGVkIVxuICAgIC8vIFRoaXMgaXMgbGlrZWx5IGJlY2F1c2UgeW91IGhhdmUgbm90IHNldCB1cCBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gICAgLy8gQ2hlY2sgb3V0IGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCBmb3IgTmV4dCBTdGVwcy5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoe1xuICAgICAgcmVxdWVzdDoge1xuICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsIk5leHRSZXNwb25zZSIsInVwZGF0ZVNlc3Npb24iLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwiaGVhZGVycyIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiY29va2llcyIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJzZXQiLCJvcHRpb25zIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwibmV4dFVybCIsInBhdGhuYW1lIiwic3RhcnRzV2l0aCIsImVycm9yIiwicmVkaXJlY3QiLCJVUkwiLCJ1cmwiLCJlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./utils/supabase/middleware.ts\n");

/***/ })

});